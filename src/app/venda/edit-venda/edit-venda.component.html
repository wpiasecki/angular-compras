<div class="dialog-form">
    <h2>Venda</h2>
    <form [formGroup]="form">
        <div class="form-group">
            <label for="numero">NÃºmero</label>
            <input type="number" 
                required 
                class="form-control" 
                name="numero" 
                formControlName="numero"
                id="numero" >
        </div>

        <div class="form-group">
            <label for="data">Data</label>
            <input 
                type="date" 
                name="data"
                class="form-control" 
                id="data" 
                formControlName="data"
                placeholder="dd-mm-yyyy">
        </div>

        <div class="form-group item-table">
            <label for="itemvendas">Itens da venda</label>
            <table class="table table-striped" id="itemvendas">
                <thead>
                    <th>Produto</th>
                    <th>Qtde</th>
                    <th>Excluir</th>
                </thead>
                <tbody>
                    <ng-container formArrayName="itens">
                    <tr *ngFor="let itemVenda of itens.controls; let indice = index" [formGroupName]="indice">
                        <td>
                            <select 
                                formControlName="produto">
                                <option value="">[Selecione]</option>
                                <option [value]="produto.id" *ngFor="let produto of produtos">{{ produto.nome }}</option>
                            </select>
                        </td>
                        <td>
                            <input 
                                type="number" 
                                class="number-input" 
                                formControlName="qtde">
                        </td>
                        <td class="table-action" (click)="excluirItem(indice)">
                            <div class="table-action">
                                <i class="gg-trash"></i>
                            </div>
                        </td>
                    </tr>
                    </ng-container>
                </tbody>
            </table>
            
            <input type="button" class="btn btn-primary" (click)="adicionarItem()" value="Adicionar Item">
        </div>

        <input type="button" class="btn btn-primary" value="Salvar" (click)="salvar()">
        <input type="button" class="btn btn-secondary" value="Cancelar" (click)="cancelar()">
    </form>
</div>
